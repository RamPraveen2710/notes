flowchart TD
    A[Load Interactions & Readership Data] --> B[Apply Date Filter: Aug-Oct 2024]
    B --> C{Identify NVDA Interest}
    
    C -->|From Readership| D[Clients who read NVDA]
    C -->|From Interactions| E[Clients who discussed NVDA]
    C -->|From Keywords| F[Clients with NVDA keywords]
    
    D --> G[Combine All NVDA-Interested Clients]
    E --> G
    F --> G
    
    G --> H[Build Client Interaction Timelines]
    H --> I[Map Explicit NVDA Mentions]
    
    I --> J[Calculate Deterministic Scores]
    J --> K{Pre-score â‰¥ 0.3?}
    
    K -->|No| L[Discard Interaction]
    K -->|Yes| M[Add to Potential NVDA Interactions]
    
    M --> N[Group by Client]
    N --> O[Create Optimized Batches]
    O --> P[Process with LLM in Batches]
    
    P --> Q[Combine Pre-scores & LLM Scores]
    Q --> R{Final Score â‰¥ 0.5?}
    
    R -->|No| S[Exclude from Results]
    R -->|Yes| T[Include in Final Report]
    
    T --> U[Generate Ranked NVDA Interaction Report]





















The idea behind interaction timelines is to understand the sequence of meetings/events that a client (FirmwideId) has before and after showing interest in NVDA (or any other ticker).

ðŸ’¡ Example:
Step 1: A client reads about NVDA on August 15, 2024.

Step 2: The client has a meeting with a research analyst on August 18, 2024.

Step 3: The same client joins another meeting on September 5, 2024, but NVDA is not explicitly mentioned.

ðŸ‘‰ Question: Should the meetings on August 18 and September 5 be considered as NVDA-related?
ðŸ‘‰ Answer: If NVDA was discussed previously, there's a high probability that the client continued the discussion in later interactions, even if NVDA was not explicitly mentioned.

This is why we construct a timeline for each NVDA-interested client and analyze how interactions evolve over time.
